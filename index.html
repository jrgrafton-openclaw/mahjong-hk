<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>é›€ç‰Œ Â· Hong Kong Mahjong</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css?v=3">
</head>
<body>

<!-- MAIN MENU -->
<div id="screen-menu" class="screen active">
  <div class="menu-bg">
    <div class="felt-texture"></div>
    <div class="menu-glow"></div>
  </div>
  <div class="menu-content">
    <div class="menu-logo">
      <div class="logo-tiles">
        <span class="logo-tile">ğŸ€„</span>
        <span class="logo-tile">ğŸ€…</span>
        <span class="logo-tile">ğŸ€†</span>
      </div>
      <h1 class="menu-title">é›€ç‰Œ</h1>
      <p class="menu-subtitle">Hong Kong Mahjong</p>
    </div>
    <div class="menu-buttons">
      <button class="btn-primary" onclick="App.startGame('medium')">
        <span class="btn-icon">â–¶</span> New Game
      </button>
      <div class="difficulty-row">
        <button class="btn-diff active" id="diff-easy" onclick="App.setDifficulty('easy')">Easy</button>
        <button class="btn-diff active" id="diff-medium" onclick="App.setDifficulty('medium')">Medium</button>
        <button class="btn-diff" id="diff-hard" onclick="App.setDifficulty('hard')">Hard</button>
      </div>
      <button class="btn-secondary" onclick="App.showHelp()">
        <span class="btn-icon">?</span> How to Play
      </button>
    </div>
    <div class="menu-footer">
      <p>Cantonese rules Â· 144 tiles Â· 4 players</p>
    </div>
  </div>
</div>

<!-- HELP / TUTORIAL SCREEN -->
<div id="screen-help" class="screen">
  <div class="help-header">
    <button class="btn-back" onclick="App.closeHelp()">â† Back</button>
    <h2 class="help-title">How to Play</h2>
  </div>
  <div class="help-body">
    <div class="help-tabs">
      <button class="help-tab active" onclick="App.showHelpTab('basics')">Basics</button>
      <button class="help-tab" onclick="App.showHelpTab('tiles')">Tiles</button>
      <button class="help-tab" onclick="App.showHelpTab('calls')">Calls</button>
      <button class="help-tab" onclick="App.showHelpTab('hands')">Hands</button>
      <button class="help-tab" onclick="App.showHelpTab('scoring')">Scoring</button>
      <button class="help-tab" onclick="App.showHelpTab('strategy')">Strategy</button>
    </div>
    <div id="help-content" class="help-content">
      <!-- Filled by JS -->
    </div>
  </div>
</div>

<!-- GAME SCREEN -->
<div id="screen-game" class="screen">
  <!-- Wind / Round indicator -->
  <div class="game-header">
    <div class="round-indicator">
      <span id="round-wind">East</span> <span id="round-num">1</span>
    </div>
    <div class="score-display">
      <span class="score-label">Score</span>
      <span id="player-score" class="score-value">0</span>
    </div>
    <button class="btn-help-float" onclick="App.showHelp(true)">?</button>
  </div>

  <!-- AI Players Area -->
  <div class="ai-area" id="ai-area">
    <!-- AI Player 1 (Left / West) -->
    <div class="ai-player" id="ai-west">
      <div class="ai-header">
        <span class="ai-wind">West</span>
        <span class="ai-name">West AI</span>
        <span class="ai-tile-count" id="ai-west-count">13</span>
        <span class="ai-score" id="ai-west-score">0</span>
      </div>
      <div class="ai-discards" id="ai-west-discards"></div>
    </div>
    <!-- AI Player 2 (Top / North) -->
    <div class="ai-player ai-player--top" id="ai-north">
      <div class="ai-header">
        <span class="ai-wind">North</span>
        <span class="ai-name">North AI</span>
        <span class="ai-tile-count" id="ai-north-count">13</span>
        <span class="ai-score" id="ai-north-score">0</span>
      </div>
      <div class="ai-discards" id="ai-north-discards"></div>
    </div>
    <!-- AI Player 3 (Right / South) -->
    <div class="ai-player" id="ai-south">
      <div class="ai-header">
        <span class="ai-wind">South</span>
        <span class="ai-name">South AI</span>
        <span class="ai-tile-count" id="ai-south-count">13</span>
        <span class="ai-score" id="ai-south-score">0</span>
      </div>
      <div class="ai-discards" id="ai-south-discards"></div>
    </div>
  </div>

  <!-- Center Table: Last discard & wall info -->
  <div class="table-center">
    <div class="wall-info">
      <span class="wall-label">Wall</span>
      <span id="wall-count" class="wall-count">144</span>
    </div>
    <div class="last-discard-area">
      <div id="last-discard" class="last-discard"></div>
    </div>
    <div class="turn-indicator">
      <span id="turn-text">Your Turn</span>
    </div>
  </div>

  <!-- Hint Banner -->
  <div id="hint-banner" class="hint-banner hidden">
    <span id="hint-text"></span>
    <button class="hint-dismiss" onclick="App.dismissHint()">Ã—</button>
  </div>

  <!-- Action Buttons -->
  <div class="action-bar" id="action-bar">
    <button class="btn-action" id="btn-draw" onclick="App.playerDraw()">Draw</button>
    <button class="btn-action btn-pong hidden" id="btn-pong" onclick="App.playerPong()">ç¢° Pong</button>
    <button class="btn-action btn-kong hidden" id="btn-kong" onclick="App.playerKong()">æ§“ Kong</button>
    <button class="btn-action btn-chow hidden" id="btn-chow" onclick="App.playerChow()">åƒ Chow</button>
    <button class="btn-action btn-win hidden" id="btn-win" onclick="App.playerWin()">èƒ¡ Win!</button>
    <button class="btn-action btn-pass hidden" id="btn-pass" onclick="App.playerPass()">Pass</button>
  </div>

  <!-- Player Hand -->
  <div class="player-area">
    <div class="player-wind-badge" id="player-wind-badge">East</div>
    <div class="player-hand-wrap">
      <div class="player-hand" id="player-hand">
        <!-- Tiles inserted by JS -->
      </div>
    </div>
    <div class="player-melds" id="player-melds"></div>
  </div>
</div>

<!-- WIN SCREEN -->
<div id="screen-win" class="screen">
  <div class="win-content">
    <div class="win-title" id="win-title">èƒ¡ç‰Œ!</div>
    <div class="win-subtitle" id="win-subtitle">You Win!</div>
    <div class="win-hand" id="win-hand"></div>
    <div class="win-score" id="win-score"></div>
    <div class="win-breakdown" id="win-breakdown"></div>
    <div class="win-buttons">
      <button class="btn-primary" onclick="App.startGame()">Play Again</button>
      <button class="btn-secondary" onclick="App.goMenu()">Main Menu</button>
    </div>
  </div>
  <div class="win-particles" id="win-particles"></div>
</div>

<!-- CHOW CHOICE MODAL -->
<div id="modal-chow" class="modal hidden">
  <div class="modal-box">
    <div class="modal-title">Choose Chow</div>
    <div id="chow-options" class="chow-options"></div>
    <button class="btn-secondary" onclick="App.cancelChow()">Cancel</button>
  </div>
</div>

<script type="module" src="game.js?v=3"></script>
</body>
</html>
